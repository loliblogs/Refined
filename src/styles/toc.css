/**
 * Table of Contents (TOC) Styles
 * 目录组件的专属样式，包括默认状态、hover状态和滚动高亮的 active 状态
 */

/* ============================================
   圆圈和圆点的颜色 - 所有状态
   ============================================ */

/* 默认状态：顶层圆圈 secondary，子级圆点 muted */
[data-toc-level="top"] {
  background-color: var(--color-secondary);
}

[data-toc-level="sub"] {
  background-color: var(--color-muted);
}

/* Hover 状态：都变 primary */
[data-toc-id]:hover [data-toc-level] {
  background-color: var(--color-primary);
}

/* Active 状态：都变 primary */
[data-toc-id][data-active="true"] [data-toc-level] {
  background-color: var(--color-primary);
}

/* ============================================
   Active State - 左侧 accent bar
   ============================================ */

/* 所有TOC链接都有伪元素，默认隐藏 */
[data-toc-id]::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 0.25rem;
  background-color: var(--color-primary);
  border-radius: 0.25rem;  /* 右侧圆角匹配 rounded-md (6px) */
  opacity: 0;
  transition: opacity 200ms ease;
}

/* 显示左侧 bar */
[data-toc-id][data-active="true"]::before {
  opacity: 1;
}

/* ============================================
   Active State - 文字和背景
   ============================================ */

/* 滚动高亮时的样式 */
[data-toc-id][data-active="true"] {
  color: var(--color-primary);
  background-color: var(--color-hover);
  font-weight: 500;
}

[data-toc-id] mjx-math[breakable] {
  display: inline-block;
}
